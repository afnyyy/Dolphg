<!DOCTYPE html>
<html>
    <head>
        <!--Import Google Icon Font-->
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <!--Import materialize.css-->
        <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>

        <!-- css saya -->
        <link rel="stylesheet" href="css/login.css">

        <!--Let browser know website is optimized for mobile-->
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <meta name="google-signin-client_id" content="288771713310-1o17hp74ve60c4to8s4nn0gq4ss3iii1.apps.googleusercontent.com">

        <title>Login DOLPHG </title>

        <script src="https://apis.google.com/js/api:client.js"></script>
        <script>
        function attachSignin(element) {
            console.log(element.id);
            auth2.attachClickHandler(element, {},
                function(googleUser) {
                    sessionStorage.setItem("name", googleUser.getBasicProfile().getName());
                    window.location.href = "register.html";
                    // document.getElementById('name').innerText = "Signed in: " +
                    //     googleUser.getBasicProfile().getName();
                }, function(error) {
                    alert(JSON.stringify(error, undefined, 2));
                });
        }
        </script>
    </head>

    <body>
        <!-- Navbar -->
        <div class="navbar-fixed">
            <nav class="grey">
                <div class="container">
                    <div class="nav-wrapper">
                        <a href="index.html" data-target="mobile-nav" class="sidenav-trigger"><i class="material-icons">menu</i></a>
                        <a href="index.html" data-target="brand-logo"><img src="image/logo.png" alt="logo" height="60"></a>
                        <ul class="right hide-on-med-and-down">
                            <li><a href="index.html">Home</a></li>
                            <li><a href="index.html">About Us</a></li>
                            <li><a href="registrasi.html">Registrasi</a></li>
                            <li class="active"><a href="login.html">Login</a></li>
                            <li><a href="index.html">FAQ</a></li>
                            <li><a href="index.html">Contact Us</a></li>
                        </ul>
                    </div>
                </div>
            </nav>
        </div> 

        <!-- SideNav -->
        <ul class="sidenav" id="mobile-nav">
            <li><a href="index.html">Home</a></li>
            <li><a href="index.html">About Us</a></li>
            <li><a href="registrasi.html">Registrasi</a></li>
            <li><a href="login.html">Login</a></li>
            <li><a href="index.html">FAQ</a></li>
            <li><a href="index.html">Contact Us</a></li>
        </ul>

        <!-- parallax login -->
        <div class="parallax-container">
            <div class="parallax"><img class="responsive-ing" src="image/login.png" width="100%" height="900px"></div>
        </div>

        <!--Login-->
        <div id = "login" class="row black">
            <div class="container">
                <form class="col s12 m3 l5 white-text">
                    <h1 class="center light white-text"><b>Login</b></h1>
                    <div class="row">
                        <div class="input-field">
                            <i class="material-icons prefix">account_circle</i>
                            <input value="" type="text" name="username" id="username" required class="validate  white-text" >
                            <label for="username">Username</label>
                        </div>

                        <div class="input-field">
                            <i class="material-icons prefix">https</i>
                            <input onkeyup="checkStrengthPwd()" placeholder="Password" id="password" class="validate white-text" type="password" required>
                            <label for="password">Password</label>
                            <!-- <span class="password-msg" data-error="wrong" data-success="right"></span> -->
                            <div><a href="#"><b>Forgot password?</b></a></div>
                            <div class="row">
                                <br>
                                <div class="col s12 m3 15 right-align" ><a href="member.html" onclick="checkInput(event)"><button type="submit" class="btn" >Login</button></a></div>
                            </div>
                        </div>
                    </div>
                </form>
        
                <div class="col s12 m3 l2">
                    <br>
                    <h2 class="center-align light white-text">or</h2>
                </div>
        
                <!--Login SSO-->
                <form class="col s12 m3 l5">
                    <br></br>
                        <div class="center">
                            <div class="waves-effect waves-light btn cyan darken-4 btn-block" id="google"><img class= "left" src="image/google.png" width="33px"> Sign up with Google</div>
                            <div id="name"></div>
                            <script>startApp();</script>
                            <br>
                            <a class="waves-effect waves-light btn cyan darken-4 btn-block" href="registrasi.html"><img class= "left" src="image/github.png" width="33px"> Sign up with Github</a>
                            <br></br>
                            <a class="waves-effect waves-light btn cyan darken-4 btn-block" href="registrasi.html"><img class= "left" src="image/twitter.png" width="33px"> Sign up with Twitter</a>
                            <br></br>
                            <a class="waves-effect waves-light btn cyan darken-4 btn-block" href="registrasi.html"><img class= "left" src="image/facebook.png" width="33px"> Sign up with Facebook</a>
                            <br></br>
                            <a class="waves-effect waves-light btn cyan darken-4 btn-block" href="registrasi.html"><img class= "left" src="image/LinkedIn.png" width="33px"> Sign up with LinkedIn</a>
                        </div>
                </form>
            </div>
        </div>

        
        <div class="row gray ">
            <div class="col s12">
                <a href="registrasi.html">
                    <h3 class="center-align">Tidak punya akun?     Daftarkan!</h3>
                </a>
            </div>
        </div>

        <!-- footer -->
        <footer class="grey draken-2 center-align">
            <div class="container">
                <div class="footer-copyright">
                    <div class="">
                        <a class="black-text margin-left" href="#!"></a><i class="material-icons ">pin_drop</i>Jl. RE Martadinata, Jakarta Utara</a>
                        <br>
                        <a class="black-text center" href="#!">Afny</a>
                    </div>
                    <div>
                        Â© 2020 Copyright DOLPHG
                    </div>
                </div>
            </div>
        </footer>

        

        <!--JavaScript at end of body for optimized loading-->
        <script type="text/javascript" src="js/materialize.min.js"></script>
        <script src="https://apis.google.com/js/platform.js" async defer></script>
        <script>
            const sideNav = document.querySelectorAll('.sidenav');
            M.Sidenav.init(sideNav);

            const parallax = document.querySelectorAll('.parallax');
            M.Parallax.init(parallax)

            var elems2 = document.querySelectorAll('.modal');
            var instances2 = M.Modal.init(elems2, {});
            var name = sessionStorage.getItem("name");
            if (name){
                var fullname = document.querySelector('#username');
                fullname.setAttribute('value',uname);
            }
            

            function checkInput(event){
                var input = document.querySelectorAll("input");
                // alert(input.length);
                var error = false;
                input.forEach(function(item, index, list){
                    if (item.classList.contains("invalid") || item.value == ""){
                        if (item.id != "phone2"){
                            error = true;
                        }
                    }
                });
                if(error){
                    event.preventDefault();
                    alert("Error karena data tidak lengkap!");
                } else {
                    event.preventDefault();
                    var datauname = document.querySelector("#username").value;

                    sessionStorage.setItem("username", datauname);

                    window.location.href = "member.html";
                }
            }

            
        </script>
    </body>
</html>